import{r as i,j as e,a as c,y as d}from"./app-0e80d3ae.js";import{_ as l}from"./index-4ac6d278.js";import{S as x}from"./sweetalert2.esm.all-dd0c4ce7.js";const y=({profileImage:m,coverImage:u})=>{const[n,h]=i.useState(!1),[r,s]=i.useState(null),[o,a]=i.useState(null),p=(t,j)=>{const v=t.target.files[0];j(v)},g=()=>{h(!0);const t=new FormData;r&&t.append("photo",r),o&&t.append("cover_photo",o),console.log([...t]),c.post("/org/profile/photo",t).then(()=>{l.success("Imagenes actualizadas correctamente"),d.reload()}).catch(()=>{l.error("Ocurrió un error")}).finally(()=>{h(!1),s(null),a(null)})},b=()=>{x.fire({title:"Eliminar imagen de perfil",text:"No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&c.delete("/org/profile/deletePhoto").then(()=>{l.success("Imagen de perfil eliminada"),d.reload()}).catch(()=>{l.error("Ocurrió un error")})})},f=()=>{x.fire({title:"Eliminar imagen de portada",text:"No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&c.delete("/org/profile/deleteCover").then(()=>{l.success("Imagen de portada eliminada"),d.reload()}).catch(()=>{l.error("Ocurrió un error")})})};return e.jsxs("section",{className:"max-w-xl",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Foto de perfil y de portada"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Actualiza tu foto de perfil y de portada"})]}),e.jsxs("form",{className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 font-bold text-sm",children:"Imagen de perfil"}),m?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"http://localhost:8000/"+m,className:"h-28 w-28 rounded-full aspect-square"}),e.jsx("button",{className:"mt-10 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg cursor-pointer hover:bg-red-600",type:"button",onClick:b,children:"Eliminar"})]}):e.jsxs("div",{children:[r&&e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:URL.createObjectURL(r),className:"w-64 h-64 rounded-lg"}),e.jsx("button",{className:"absolute flex justify-center items-center top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 focus:outline-none h-6 w-6 aspect-square","aria-label":"Eliminar",onClick:()=>s(""),children:"✕"})]}),!r&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:"photo",className:"hidden",onChange:t=>p(t,s),disabled:n}),e.jsx("label",{htmlFor:"photo",className:"inline-block px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg cursor-pointer hover:bg-blue-600",children:"Seleccionar imagen"})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 font-bold text-sm",children:"Imagen de portada"}),u?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"http://localhost:8000/"+u,className:"h-28 w-28 rounded-full aspect-square"}),e.jsx("button",{className:"mt-10 px-4 py-2 bg-red-500 text-white font-semibold rounded-lg cursor-pointer hover:bg-red-600",type:"button",onClick:f,children:"Eliminar"})]}):e.jsxs("div",{children:[o&&e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:URL.createObjectURL(o),className:"w-64 h-64 rounded-lg"}),e.jsx("button",{className:"absolute flex justify-center items-center top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 focus:outline-none h-6 w-6 aspect-square","aria-label":"Eliminar",onClick:()=>a(""),children:"✕"})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:"cover_photo",className:"hidden",onChange:t=>p(t,a),disabled:n}),e.jsx("label",{htmlFor:"cover_photo",className:"inline-block px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg cursor-pointer hover:bg-blue-600",children:"Seleccionar imagen"})]})]}),r||o?e.jsx("button",{className:"mt-10 px-4 py-2 bg-green-500 text-white font-semibold rounded-lg cursor-pointer hover:bg-green-600",type:"button",disabled:n,onClick:g,children:"Guardar cambios"}):null]})]})]})};export{y as default};
